<!-- views/profile.ejs -->
<!DOCTYPE html>
<html>
<head>
  <title>My Profile</title>
</head>
<body>
  <h2>👤 <%= user.username %>'s Profile</h2>

  <% if (error.length > 0) { %>
    <p style="color: red;"><%= error[0] %></p>
  <% } %>

  <% if (success.length > 0) { %>
    <p style="color: green;"><%= success[0] %></p>
  <% } %>

  <% if (posts.length === 0) { %>
    <p>You haven't uploaded any posts yet.</p>
  <% } %>

  <% posts.forEach(post => { %>
    <div style="margin-bottom: 30px;">
      <img src="<%= post.image %>" style="max-width: 300px;" /><br />
      <p><%= post.caption %></p>
      <p>👍 Likes: <%= post.likes.length %></p>
    </div>
  <% }) %>

  <a href="/dashboard">⬅️ Back to Dashboard</a> |
  <a href="/post/upload">📤 Upload</a> |
  <a href="/logout">🚪 Logout</a>
</body>
</html>
